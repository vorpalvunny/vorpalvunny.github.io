(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{e6Wu:function(t,e,n){"use strict";n.r(e);n("hZTp");function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,r,s=[],o=!0,a=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);o=!0);}catch(t){a=!0,r=t}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config={storeKey:"VB_PAGE",prefix:"page",start:0,last:14},this.state={isScaling:!1,isBusy:!1,page:0,pos:{wheel:{pos:0,dir:!1},initial:void 0,current:{clientX:void 0,clientY:void 0}}}}var e,n,r;return e=t,(n=[{key:"$figure",get:function(){return document.querySelector("figure")}},{key:"$figcaption",get:function(){return document.querySelector("figcaption")}},{key:"$img",get:function(){return document.querySelector("img")}},{key:"$main",get:function(){return document.querySelector("main")}},{key:"$next",get:function(){return document.querySelector(".next")}},{key:"$prev",get:function(){return document.querySelector(".prev")}},{key:"getId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(this.config.prefix).concat(t)}},{key:"getSrc",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"/public/img/".concat(this.getId(t),".jpg")}},{key:"startPage",get:function(){var t=Number(localStorage.getItem(this.config.storeKey));return isNaN(t)&&(t=this.config.start),t}},{key:"init",value:function(){this.goTo(this.startPage),this.registerEventListeners()}},{key:"next",value:function(){this.state.page!==this.config.last-1&&this.goTo(this.state.page+1)}},{key:"prev",value:function(){this.state.page!==this.config.start&&this.goTo(this.state.page-1)}},{key:"toggleButton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?"inline-block":"none";t.style.display=n}},{key:"goTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;localStorage.setItem(this.config.storeKey,t),this.state.page=t,this.$img.setAttribute("src",this.getSrc(t)),this.$figcaption.innerText="".concat(t+1),this.toggleButton(this.$next,!0),this.toggleButton(this.$prev,!0);var e=this.config,n=e.start,i=e.last;switch(this.state.page){case n:this.toggleButton(this.$prev,!1);break;case i-1:this.toggleButton(this.$next,!1)}}},{key:"registerEventListeners",value:function(){this.$next.addEventListener("click",this.next.bind(this)),this.$prev.addEventListener("click",this.prev.bind(this)),this.$main.addEventListener("touchstart",this.onStartTouch.bind(this),!1),this.$main.addEventListener("touchmove",this.onMoveTouch.bind(this),!1),this.$main.addEventListener("ontouchend",this.onTouchEnd.bind(this),!1),this.$main.addEventListener("gesturechange",this.onGestureChange.bind(this),!1),document.addEventListener("wheel",this.onWheel.bind(this))}},{key:"onGestureChange",value:function(t){if(this.state.isScaling){var e=1;switch(!0){case t.scale<1:case t.scale>1:e=t.scale}this.$img.style.transform=div.style.transform.replace(/scale\([0-9|.]*\)/,"scale(".concat(e,")"))}}},{key:"onTouchEnd",value:function(t){this.state.isScaling=!1,t.touches.length}},{key:"onMoveTouch",value:function(t){if(2===t.touches.length&&2==t.changedTouches.length)this.state.isScaling=!0;else if(this.state.pos.initial){var e=i(t.touches,1)[0];this.state.pos.current=e;var n={clientX:this.state.pos.initial.clientX-this.state.pos.current.clientX,clientY:this.state.pos.initial.clientY-this.state.pos.current.clientY};Math.abs(n.clientX)>Math.abs(n.clientY)||Math.abs(n.clientY)<5||(n.clientY>0?this.next():this.prev(),this.state.pos.initial=void 0,t.preventDefault())}}},{key:"onStartTouch",value:function(t){if(2===t.touches.length)this.state.isScaling=!0;else{var e=i(t.touches,1)[0];this.state.pos.initial=e}}},{key:"onWheel",value:function(t){var e=this,n=t.deltaY,i=void 0===n?0:n;this.state.pos.wheel.pos=i,this.state.pos.wheel.dir=i>0,this.state.isBusy||(this.state.isBusy=!0,window.requestAnimationFrame((function(){var t=e.state.pos.wheel,n=t.pos,i=t.dir;Math.abs(n)>0&&(i?e.next():e.prev()),window.setTimeout((function(){return e.state.isBusy=!1}),1e3)})))}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),a=n("n5Vj");if("serviceWorker"in navigator){var c=n.n(a).a.register();c&&c.then((function(t){return console.log(t)}))}document.addEventListener("DOMContentLoaded",(function(){return(new o).init()}))},hZTp:function(t,e,n){}},[["e6Wu",1,2]]]);